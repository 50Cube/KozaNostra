<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'/>
    <link href='../css/content.css' rel='stylesheet'/>
    <h:outputStylesheet name="/css/content.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</h:head>
    <div class = "wrapper">		
        <div class = "header" style="background: #{roleController.headerColorForRole}">
            <p:sidebar  widgetVar="sb" baseZIndex="100000">
                <ui:fragment id="admin-sidebar" rendered="#{roleController.isSelectedRole('Admin')}">
                    <h1 style="font-weight:normal">#{msg['page.template.admin.console']}</h1>
                    <p:button value="#{msg['page.template.admin.listAccounts']}" outcome="/admin/listAccounts.xhtml"/>
                </ui:fragment>
                <ui:fragment id="manager-sidebar" rendered="#{roleController.isSelectedRole('Manager')}">
                    <h1 style="font-weight:normal">#{msg['page.template.manager.console']}</h1>
                </ui:fragment>
                <p:commandButton value="#{msg['page.template.hide']}" oncomplete="PF('sb').hide()"/>
            </p:sidebar>
             <div class = "header-left">
                 <p:commandLink styleClass="menu-button" id="menu-button" oncomplete="PF('sb').show()" rendered="#{roleController.isSelectedRole('Admin') or roleController.isSelectedRole('Manager')}">
                    <i class="pi pi-bars" style="font-size: 3em;color: white" ></i> 
                 </p:commandLink>
                 <h:link class="logo" outcome="/index.xhtml">LogoPlaceholder</h:link> 
             </div>
             <div class = "header-right">
                <ui:fragment id="guest-right-links" rendered="#{empty request.remoteUser}">
                   <h:link class="link" outcome="/login/login.xhtml">#{msg['page.template.login']}</h:link>
                   <h:link class="link" outcome="/register.xhtml">#{msg['page.template.signup']}</h:link>
                </ui:fragment>
                <ui:fragment id="authenticated-right-links" rendered="#{not empty request.remoteUser}">
                   <h:form>
                       <h:commandLink class="link" value="#{msg['page.template.logout']}" action="#{logoutController.logout()}"/>
                   </h:form> 
                   <h:link class="link" value="#{msg['page.template.changerole']}" outcome="/changeRole.xhtml"/>
                </ui:fragment>
             </div>
        </div>
        <div class ="breadcrumb">
            <p:breadCrumb>
                <p:menuitem value="Home" outcome="/index.xhtml" />
                <ui:insert name="breadcrumb-menuitems"/>
            </p:breadCrumb>
        </div>
        <div class = "main"> 
            <ui:insert name="content" >

            </ui:insert>
        </div>

        <div class = "footer">
            <div class ="footer-text">2020 @SSBD05</div>
        </div>
    </div>
    <h:form>
        <p:growl id="informationBox" showDetail="true" life="3000"/>
        <f:event type="preRenderView" listener="#{loginController.informAboutLastAuthentication}" />
    </h:form>
</html>
